IF(UNIX)
	add_definitions(-DMPU9250_Y_header)
	add_definitions(-DSPI_MPU9250)

    cmake_minimum_required(VERSION 3.10)
    set(CMAKE_C_COMPILER "/usr/bin/gcc")
    set(CMAKE_CXX_COMPILER "/usr/bin/g++")
	set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -std=c++14 -pthread")
    find_library(wiringPi_LIB wiringPi)
	find_package(nlohmann_json REQUIRED)
	add_subdirectory(_thirdparty)
    add_executable(SingleAPM "SingleAPM.cpp" "SingleAPM.hpp")
    target_link_libraries( SingleAPM ${wiringPi_LIB})
	target_link_libraries( SingleAPM LIB)
ENDIF()